(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eab61984"],{"190e":function(e,t,r){"use strict";var a=r("537f"),n=r.n(a);n.a},"25f0":function(e,t,r){"use strict";var a=r("6eeb"),n=r("825a"),o=r("d039"),s=r("ad6d"),i="toString",u=RegExp.prototype,l=u[i],m=o((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),c=l.name!=i;(m||c)&&a(RegExp.prototype,i,(function(){var e=n(this),t=String(e.source),r=e.flags,a=String(void 0===r&&e instanceof RegExp&&!("flags"in u)?s.call(e):r);return"/"+t+"/"+a}),{unsafe:!0})},"3eaf":function(e,t,r){},"537f":function(e,t,r){},"815e":function(e,t,r){"use strict";var a=r("3eaf"),n=r.n(a);n.a},"895b":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("user",{directives:[{name:"show",rawName:"v-show",value:""===e.teacherInfo||e.update,expression:"teacherInfo===''||update"}],ref:"users",attrs:{update:e.update}}),r("teacher",{directives:[{name:"show",rawName:"v-show",value:""!==e.teacherInfo&&!e.update,expression:"teacherInfo!==''&&!update"}],attrs:{teacherInfo:e.teacherInfo},on:{updateTeacher:e.updateTeacher}})],1)},n=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"box"}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-position":"left","label-width":"80px"}},[r("el-form-item",{attrs:{label:"姓名",prop:"name"}},[r("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),r("el-form-item",{attrs:{label:"Q Q",prop:"qq"}},[r("el-input",{attrs:{type:"age",autocomplete:"off"},model:{value:e.ruleForm.qq,callback:function(t){e.$set(e.ruleForm,"qq",e._n(t))},expression:"ruleForm.qq"}})],1),r("el-form-item",{attrs:{label:"手机",prop:"phone"}},[r("el-input",{attrs:{type:"age",autocomplete:"off"},model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",e._n(t))},expression:"ruleForm.phone"}})],1),r("el-form-item",{attrs:{label:"头像",prop:"imageName"}},[r("up-img",{ref:"upImg",attrs:{image:e.ruleForm.imagePath},on:{success:e.getImgPath,changeImg:e.changeImg}})],1),r("el-form-item",{attrs:{label:"介绍",prop:"remarks"}},[r("el-input",{attrs:{type:"textarea",maxlength:"500","show-word-limit":"",autosize:{minRows:4,maxRows:6}},model:{value:e.ruleForm.remarks,callback:function(t){e.$set(e.ruleForm,"remarks",t)},expression:"ruleForm.remarks"}})],1),r("el-form-item",[this.update?r("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.submitForm("x")}}},[e._v("修改")]):r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("t")}}},[e._v("提交")])],1)],1)],1)},s=[],i=(r("0d03"),r("b0c0"),r("d3b7"),r("25f0"),{name:"user",props:["update"],data:function(){var e=function(e,t,r){var a=t.toString().length;11!==a?r(new Error("长度在11位")):r()},t=function(e,t,r){var a=t.toString().length;a>11||a<7?r(new Error("长度在7-11位")):r()};return{ruleForm:{name:"",imagePath:"",imageName:"",imageSize:"",phone:null,qq:null,remarks:"",status:"",openId:this.$userInfo.openId},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:6,message:"长度在 2 到 6 ",trigger:"blur"}],imageName:[{required:!0,message:"请选择头像",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号"},{type:"number",message:"年龄必须为数字值"},{validator:e,trigger:"blur"}],qq:[{required:!0,message:"请输入QQ"},{type:"number",message:"年龄必须为数字值"},{validator:t,trigger:"blur"}],remarks:[{required:!0,message:"请输入介绍",trigger:"blur"},{min:3,max:100,message:"长度在 3 到 500 ",trigger:"blur"}]},type:""}},methods:{submitForm:function(e){var t=this,r=this;this.$refs["ruleForm"].validate((function(a){if(!a)return!1;"t"===e?r.$refs.upImg.submit():t.xiugai(),r.type=e}))},xiugai:function(){var e=this,t=JSON.parse(JSON.stringify(this.ruleForm));this.$api.updateTeacher(t,(function(e){})),this.$api.changeGard({openId:this.$userInfo.openId,grade:"0"},(function(e){})),this.$api.examineTeacher({openId:this.$userInfo.openId,status:"0"},(function(t){t&&e.$router.push("/refresh")}))},getImgPath:function(e){var t=this;console.log(e),this.ruleForm.imagePath=e;var r=JSON.parse(JSON.stringify(this.ruleForm));r.phone=r.phone+"",r.qq=r.qq+"",console.log(r),"x"===this.type?(this.$api.updateTeacher(r,(function(e){})),this.api.changeGard({openId:this.userInfo.openId,status:"0"},(function(e){e&&t.$router.push("/refresh")}))):this.$api.createTeacher(r,(function(e){e&&t.$router.push("/information")}))},changeImg:function(e){this.ruleForm.imageName=e.name,this.ruleForm.imageSize=e.size},updateForm:function(e){this.ruleForm=JSON.parse(JSON.stringify(e)),this.ruleForm.imageName=e.imagePath}},mounted:function(){},create:function(){}}),u=i,l=(r("190e"),r("2877")),m=Object(l["a"])(u,o,s,!1,null,"fc4214ec",null),c=m.exports,f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"box"}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"label-position":"left","label-width":"60px"}},[r("el-form-item",[r("user-image",{attrs:{width:"60px",height:"60px",src:e.teacherInfo.imagePath}})],1),r("el-form-item",{attrs:{label:"姓名:"}},[e._v(" "+e._s(e.teacherInfo.name)+" ")]),r("el-form-item",{attrs:{label:"Q Q:"}},[e._v(" "+e._s(e.teacherInfo.qq)+" ")]),r("el-form-item",{attrs:{label:"手机:"}},[e._v(" "+e._s(e.teacherInfo.phone)+" ")]),r("el-form-item",{attrs:{label:"介绍:"}},[e._v(" "+e._s(e.teacherInfo.remarks)+" ")]),r("el-form-item",{attrs:{label:"审核:"}},[r("span",{class:{warn:"1"===e.teacherInfo.status,success:"2"===e.teacherInfo.status,now:"0"===e.teacherInfo.status}},[e._v(" "+e._s("0"===e.teacherInfo.status?"审核中":"2"===e.teacherInfo.status?"审核通过":"审核未通过")+" ")])]),"0"!==e.teacherInfo.status?r("el-form-item",[r("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.update()}}},[e._v(" 修改信息 ")])],1):e._e()],1)],1)},p=[],h={name:"user",props:["teacherInfo"],data:function(){return{}},methods:{update:function(){this.$emit("updateTeacher")}},mounted:function(){},create:function(){}},d=h,g=(r("815e"),Object(l["a"])(d,f,p,!1,null,"3e76d80e",null)),b=g.exports,I={name:"grade",data:function(){return{openId:this.$userInfo.openId,teacherInfo:"",update:!1}},methods:{updateTeacher:function(){this.update=!0,this.$refs.users.updateForm(this.teacherInfo)}},mounted:function(){var e=this,t={openId:this.openId};this.$api.getTeacher(t,(function(t){t[0]&&(e.teacherInfo=t[0])}))},created:function(){},components:{user:c,teacher:b}},v=I,F=Object(l["a"])(v,a,n,!1,null,"7a009b58",null);t["default"]=F.exports},ad6d:function(e,t,r){"use strict";var a=r("825a");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b0c0:function(e,t,r){var a=r("83ab"),n=r("9bf2").f,o=Function.prototype,s=o.toString,i=/^\s*function ([^ (]*)/,u="name";!a||u in o||n(o,u,{configurable:!0,get:function(){try{return s.call(this).match(i)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-eab61984.0ed10e1c.js.map