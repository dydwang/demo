{"version":3,"sources":["webpack:///./src/views/produce/createList.vue?7aad","webpack:///./src/views/produce/createPlan.vue?3984","webpack:///./src/views/produce/createMaterial.vue?a669","webpack:///./src/views/produce/createPlan.vue?0a7b","webpack:///src/views/produce/createPlan.vue","webpack:///./src/views/produce/createPlan.vue?5cfe","webpack:///./src/views/produce/createPlan.vue","webpack:///./src/views/produce/createList.vue?e5ec","webpack:///./src/views/produce/listDrawer.vue?bb6a","webpack:///src/views/produce/listDrawer.vue","webpack:///./src/views/produce/listDrawer.vue?5f8b","webpack:///./src/views/produce/listDrawer.vue","webpack:///src/views/produce/createList.vue","webpack:///./src/views/produce/createList.vue?ee42","webpack:///./src/views/produce/createList.vue","webpack:///src/views/produce/createMaterial.vue","webpack:///./src/views/produce/createMaterial.vue?7607","webpack:///./src/views/produce/createMaterial.vue","webpack:///./src/views/produce/createMaterial.vue?c706","webpack:///./src/views/produce/listDrawer.vue?6d7b"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","update","staticClass","on","confirm","_v","createT","createTable","preservation","staticStyle","ref","plan","useCreateList","getMon","list","mon","updateTable","staticRenderFns","createForm","rules","scopedSlots","_u","key","fn","scope","model","value","callback","$$v","$set","expression","_l","item","needDepartment","label","planType","$event","getTime","planMonth","disabled","component","tableData","row","index","prpo","prop","_e","$refs","listDrawer","updateDrawer","$index","splice","addTableDate","updateTableData","openDrawer","drawer","direction","handleClose","handleChange","materialCode","materialName","clickDate","demandDate","add"],"mappings":"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","file":"js/chunk-29dfbf0e.594151c0.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createList.vue?vue&type=style&index=0&scope=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createList.vue?vue&type=style&index=0&scope=true&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createPlan.vue?vue&type=style&index=0&id=97b415e0&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createPlan.vue?vue&type=style&index=0&id=97b415e0&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"create\"}},[(_vm.update==='updates')?_c('el-button',{staticClass:\"el-icon-edit\",attrs:{\"round\":\"\",\"type\":\"warning\"},on:{\"click\":_vm.confirm}},[_vm._v(\" 修 改\")]):_c('el-button',{staticClass:\"el-icon-plus\",attrs:{\"round\":\"\",\"type\":\"primary\",\"disabled\":_vm.createT},on:{\"click\":_vm.createTable}},[_vm._v(\" 创 建\")]),_c('el-button',{staticClass:\"el-icon-mobile\",attrs:{\"round\":\"\",\"type\":\"success\"},on:{\"click\":_vm.preservation}},[_vm._v(\" 保 存 \")]),_c('br'),_c('br'),(_vm.update!=='updates')?_c('title-text',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"text\":\"新建物资需求计划\",\"weight\":\"600\",\"color\":\"#636569\"}}):_c('title-text',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"text\":\"修改物资需求计划\",\"weight\":\"600\",\"color\":\"#636569\"}}),_c('createPlan',{ref:\"createPlan\",attrs:{\"plan\":_vm.plan},on:{\"createPlan\":_vm.useCreateList,\"mon\":_vm.getMon}}),_c('createList',{ref:\"createList\",attrs:{\"list\":_vm.list,\"mon\":_vm.mon}}),_c('mydialog',{ref:\"mydialog\",attrs:{\"message\":\"确认修改物资计划\"},on:{\"dialog\":_vm.updateTable}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"createForm\",staticClass:\"demo-ruleForm\",staticStyle:{\"width\":\"100%\"},attrs:{\"model\":_vm.createForm,\"rules\":_vm.rules,\"label-width\":\"0\"}},[_c('el-table',{staticStyle:{\"width\":\"98%\",\"min-width\":\"98%\"},attrs:{\"id\":\"tabless\",\"data\":_vm.createTable}},[_c('el-table-column',{attrs:{\"label\":\"计划名称\",\"min-width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"请输入计划名称\"},model:{value:(_vm.createForm.planName),callback:function ($$v) {_vm.$set(_vm.createForm, \"planName\", $$v)},expression:\"createForm.planName\"}})],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"需求部门\",\"min-width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-form-item',[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.createForm.needDepartment),callback:function ($$v) {_vm.$set(_vm.createForm, \"needDepartment\", $$v)},expression:\"createForm.needDepartment\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item,attrs:{\"value\":item}})}),1)],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"需求人\",\"min-width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-form-item',{attrs:{\"prop\":\"needPeoName\"}},[_c('el-select',{attrs:{\"disabled\":_vm.createForm.needDepartment==='',\"placeholder\":\"请选择\"},model:{value:(_vm.createForm.needPeoName),callback:function ($$v) {_vm.$set(_vm.createForm, \"needPeoName\", $$v)},expression:\"createForm.needPeoName\"}},_vm._l((_vm.person),function(item){return _c('el-option',{key:item,attrs:{\"value\":item}})}),1)],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"计划类型\",\"min-width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-form-item',{attrs:{\"prop\":\"planType\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.createForm.planType),callback:function ($$v) {_vm.$set(_vm.createForm, \"planType\", $$v)},expression:\"createForm.planType\"}},_vm._l((_vm.planTypeTable),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"需求计划月份/年\",\"min-width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-form-item',{attrs:{\"prop\":\"planMonth\"}},[_c('el-date-picker',{attrs:{\"disabled\":_vm.createForm.planType==='',\"type\":_vm.createForm.planType==='2'?'year':'month',\"value-format\":\"timestamp\",\"placeholder\":\"选择日期\"},on:{\"change\":function($event){return _vm.getTime(_vm.createForm.planMonth,_vm.createForm.planType)}},model:{value:(_vm.createForm.planMonth),callback:function ($$v) {_vm.$set(_vm.createForm, \"planMonth\", $$v)},expression:\"createForm.planMonth\"}})],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"需求类型\",\"min-width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-form-item',{attrs:{\"prop\":\"needType\"}},[_c('el-select',{attrs:{\"disabled\":_vm.createForm.planType==='',\"placeholder\":\"请选择\"},model:{value:(_vm.createForm.needType),callback:function ($$v) {_vm.$set(_vm.createForm, \"needType\", $$v)},expression:\"createForm.needType\"}},_vm._l((_vm.needTypeTable),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value,\"disabled\":item.disabled}})}),1)],1)]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n        <el-form :model=\"createForm\" :rules=\"rules\" ref=\"createForm\" label-width=\"0\" style=\"width: 100%\" class=\"demo-ruleForm\">\r\n            <el-table\r\n                    id=\"tabless\"\r\n                    :data=\"createTable\"\r\n                    style=\"width: 98%;min-width: 98%\"\r\n                    >\r\n                <el-table-column label=\"计划名称\" min-width=\"150\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-form-item >\r\n                            <el-input placeholder=\"请输入计划名称\" v-model=\"createForm.planName\"></el-input>\r\n                        </el-form-item>\r\n                    </template>\r\n                </el-table-column>\r\n\r\n                <el-table-column label=\"需求部门\" min-width=\"150\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-form-item >\r\n                            <el-select v-model=\"createForm.needDepartment\" placeholder=\"请选择\">\r\n                                <el-option\r\n                                        v-for=\"item in options\"\r\n                                        :key=\"item\"\r\n                                        :value=\"item\"\r\n                                >\r\n                                </el-option>\r\n                            </el-select>\r\n                        </el-form-item>\r\n                    </template>\r\n                </el-table-column>\r\n\r\n                <el-table-column label=\"需求人\" min-width=\"150\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-form-item prop=\"needPeoName\" >\r\n                            <el-select :disabled=\"createForm.needDepartment===''\" v-model=\"createForm.needPeoName\" placeholder=\"请选择\">\r\n                                <el-option\r\n                                        v-for=\"item in person\"\r\n                                        :key=\"item\"\r\n                                        :value=\"item\">\r\n                                </el-option>\r\n                            </el-select>\r\n                        </el-form-item>\r\n                    </template>\r\n                </el-table-column>\r\n\r\n                <el-table-column label=\"计划类型\" min-width=\"150\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-form-item prop=\"planType\" >\r\n                            <el-select v-model=\"createForm.planType\" placeholder=\"请选择\">\r\n                                <el-option\r\n                                        v-for=\"item in planTypeTable\"\r\n                                        :key=\"item.value\"\r\n                                        :label=\"item.label\"\r\n                                        :value=\"item.value\">\r\n                                </el-option>\r\n                            </el-select>\r\n                        </el-form-item>\r\n                    </template>\r\n                </el-table-column>\r\n\r\n\r\n                <el-table-column label=\"需求计划月份/年\" min-width=\"150\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-form-item prop=\"planMonth\" >\r\n                            <el-date-picker\r\n                                    :disabled=\"createForm.planType===''\"\r\n                                    v-model=\"createForm.planMonth\"\r\n                                    :type=\"createForm.planType==='2'?'year':'month'\"\r\n                                    value-format=\"timestamp\"\r\n                                    @change=\"getTime(createForm.planMonth,createForm.planType)\"\r\n                                    placeholder=\"选择日期\">\r\n                            </el-date-picker>\r\n                        </el-form-item>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"需求类型\" min-width=\"150\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-form-item prop=\"needType\" >\r\n                            <el-select :disabled=\"createForm.planType===''\" v-model=\"createForm.needType\" placeholder=\"请选择\">\r\n                                <el-option\r\n                                        v-for=\"item in needTypeTable\"\r\n                                        :key=\"item.value\"\r\n                                        :label=\"item.label\"\r\n                                        :value=\"item.value\"\r\n                                        :disabled=\"item.disabled\"\r\n                                >\r\n                                </el-option>\r\n                            </el-select>\r\n                        </el-form-item>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </el-form>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"createPlan\",\r\n    props:['plan'],\r\n    data(){\r\n      return{\r\n        change:false,//是否需要保存\r\n        createTable:[{}],\r\n        createForm:{\r\n          planName:'',\r\n          planType:'',\r\n          needDepartment:'',\r\n          needPeoName:'',\r\n          planMonth:'',\r\n          needType:'',\r\n          planId:'',\r\n          clickTime:0//转换后的时间\r\n        },\r\n        rules: {\r\n          planName: [{ required: true, message: '请输入需求计划名称', trigger: 'blur' }],\r\n          planType: [{ required: true, message: '请选择需求计划类型', trigger: 'blur' }],\r\n          needDepartment: [{ required: true, message: '请选择需求部门', trigger: 'blur' }],\r\n          needPeoName: [{ required: true, message: '请选择需求人', trigger: 'blur' }],\r\n          planMonth: [{ required: true, message: '请选择日期', trigger: 'blur' }],\r\n          needType: [{ required: true, message: '请选择需求类型', trigger: 'blur' }],\r\n        },\r\n        options:[\"财务部\",\"组织部\",\"人事部\",\"策划部\", \"仓库\"],\r\n        person:['李一','小王','Tony','sony'],\r\n        planTypeTable: [\r\n          { value: '1', label: '月计划' },\r\n          { value: '2', label: '年计划' },\r\n          { value: '3', label: '紧急计划' }],\r\n        needTypeTable: [\r\n          { value: '1', label: '订单型', disabled: localStorage.getItem('grade') !== this.$constData.grade.produce},\r\n          { value: '2', label: '非订单型', disabled: localStorage.getItem('grade') !== this.$constData.grade.options },\r\n          { value: '3', label: '紧急型' }],\r\n      }\r\n    },\r\n    methods: {\r\n      submitForm() {  //创建按钮\r\n        let formName = 'createForm'\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            //console.log(this.createForm)\r\n            this.createMaterialPlan()\r\n          } else {\r\n            this.$message({type:\"warning\",message:\"请完整填写需求计划\"})\r\n            return false;\r\n          }\r\n        })\r\n      },\r\n      createMaterialPlan(){\r\n        this.createForm.planId=new Date().getTime()\r\n        let cnt=JSON.parse(JSON.stringify(this.createForm))\r\n        cnt.planMonth=this.createForm.clickTime\r\n        this.$api.createMaterialPlan(cnt,(res)=>{//创建计划\r\n          if(res){\r\n            //console.log(res)\r\n            this.$message({type:'success',message:\"创建成功\"})\r\n            let planId=cnt.planId\r\n            this.$emit('createPlan',planId)\r\n            this.$api.createMaterialPlanChangeState({planId},(changeState)=>{//创建修改状态表\r\n            })\r\n            let c={}\r\n            c.planId=planId\r\n            c.createTime=planId\r\n            c.create=this.$getName()\r\n            this.$api.createMaterialPlanState(c,(planState)=>{//创建审核状态表\r\n            })\r\n          }\r\n        })\r\n      },\r\n      tips(){//是否保存\r\n        return this.change\r\n      },\r\n      preservation(){\r\n        let formName = 'createForm'\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            this.$message({type:\"success\",message:\"保存计划成功\"})\r\n            sessionStorage.setItem('createForm',JSON.stringify(this.createForm))\r\n            this.change=false\r\n          }else {\r\n            this.$message({type:\"warning\",message:\"请完整填写需求计划\"})\r\n          }\r\n        })\r\n      },\r\n      getTime(d,type){\r\n        let date =new Date(d)\r\n        let Y =date.getFullYear()\r\n        let M =date.getMonth()+1\r\n        if(type==='2'){\r\n\r\n          this.createForm.clickTime= Y\r\n        }\r\n        else{\r\n          if(M.toString().length===1){\r\n            this.createForm.clickTime= parseInt(Y+'0'+M)\r\n          }\r\n          else{\r\n            this.createForm.clickTime= parseInt(Y+''+M)\r\n          }\r\n\r\n        }\r\n        console.log(this.clickTime)\r\n        this.$emit('mon',this.clickTime)//传给创建listDraw页面\r\n      },\r\n      updateTable(){\r\n        let cnt=this.createForm\r\n        this.$api.updateMaterialPlan(cnt,(res)=>{\r\n            if(res){\r\n              let c={\r\n                create:this.$getName(),\r\n                planId:cnt.planId,\r\n                createTime:new Date().getTime()\r\n              }\r\n              this.$api.createMaterialPlanState(c,(res)=>{\r\n\r\n              })\r\n            }\r\n        })\r\n      }\r\n\r\n    },\r\n    mounted(){\r\n      let createForm=sessionStorage.getItem('createForm')\r\n      if(this.plan!==''&&this.plan!=null){\r\n        this.change=false\r\n        this.createForm=this.plan\r\n      }\r\n      else if(createForm!==''&&createForm!==null){\r\n        this.change=false\r\n        this.createForm=JSON.parse(createForm)\r\n      }\r\n    },\r\n    watch:{\r\n      createForm(val){\r\n          this.change=false\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    #tabless{\r\n        .el-input{\r\n            width: 80% ;\r\n        }\r\n        .el-select{\r\n            width: 80%;\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createPlan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createPlan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./createPlan.vue?vue&type=template&id=97b415e0&scoped=true&\"\nimport script from \"./createPlan.vue?vue&type=script&lang=js&\"\nexport * from \"./createPlan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./createPlan.vue?vue&type=style&index=0&id=97b415e0&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"97b415e0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.newTable)?_c('el-table',{staticStyle:{\"width\":\"98%\",\"margin\":\"30px 0\"},attrs:{\"stripe\":\"\",\"id\":\"table-column\",\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\" \"}}),_c('el-table-column',{attrs:{\"label\":\"填写物料清单\",\"header-align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope)?_c('el-table',{staticStyle:{\"width\":\"98%\"},attrs:{\"data\":[scope.row]}},_vm._l((_vm.tableHead1),function(item,index){return _c('el-table-column',{key:item.prpo,attrs:{\"label\":item.label,\"prop\":item.prop}})}),1):_vm._e(),_c('el-table',{staticStyle:{\"width\":\"98%\"},attrs:{\"data\":[scope.row]}},_vm._l((_vm.tableHead2),function(item,index){return _c('el-table-column',{key:item.prpo,attrs:{\"label\":item.label,\"prop\":item.prop}})}),1)]}}],null,false,1249016162)}),_c('el-table-column',{attrs:{\"width\":\"70\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"el-icon-edit\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.$refs.listDrawer.updateDrawer(scope.row,scope.$index)}}}),_c('el-button',{staticClass:\"el-icon-delete\",staticStyle:{\"color\":\"red\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.tableData.splice(scope.$index,1)}}})]}}],null,false,1480277104)})],1):_vm._e(),_c('listDrawer',{ref:\"listDrawer\",on:{\"add\":_vm.addTableDate,\"update\":_vm.updateTableData}}),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin\":\"0 5% 50px 0\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.$refs.listDrawer.openDrawer()}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"drawerss\"}},[_c('el-drawer',{attrs:{\"title\":\"填写物料清单\",\"visible\":_vm.drawer,\"direction\":_vm.direction,\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.drawer=$event}}},[_c('div',{attrs:{\"id\":\"formDiv\"}},[_c('el-form',{ref:\"createForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.createForm,\"rules\":_vm.rules,\"label-position\":\"left\",\"label-width\":\"110px\"}},[_c('el-form-item',{attrs:{\"label\":\"物料名称\",\"prop\":\"cascader\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.createForm.cascader),callback:function ($$v) {_vm.$set(_vm.createForm, \"cascader\", $$v)},expression:\"createForm.cascader\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.materialCode,attrs:{\"label\":item.materialName,\"value\":item.materialCode}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"单位\",\"prop\":\"company\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.createForm.company),callback:function ($$v) {_vm.$set(_vm.createForm, \"company\", $$v)},expression:\"createForm.company\"}},_vm._l((_vm.coms),function(item){return _c('el-option',{key:item,attrs:{\"value\":item}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"需求数量\",\"prop\":\"demandQuantity\"}},[_c('el-input-number',{attrs:{\"step\":1},model:{value:(_vm.createForm.demandQuantity),callback:function ($$v) {_vm.$set(_vm.createForm, \"demandQuantity\", $$v)},expression:\"createForm.demandQuantity\"}})],1),_c('el-form-item',{attrs:{\"label\":\"需求日期\",\"prop\":\"demandDate\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"value-format\":\"timestamp\",\"placeholder\":\"选择日期\"},on:{\"change\":function($event){return _vm.clickDate(_vm.createForm.demandDate)}},model:{value:(_vm.createForm.demandDate),callback:function ($$v) {_vm.$set(_vm.createForm, \"demandDate\", $$v)},expression:\"createForm.demandDate\"}})],1),_c('el-form-item',{attrs:{\"label\":\"货源是否稳定\",\"prop\":\"source\"}},[_c('el-radio-group',{model:{value:(_vm.createForm.source),callback:function ($$v) {_vm.$set(_vm.createForm, \"source\", $$v)},expression:\"createForm.source\"}},[_c('el-radio',{attrs:{\"label\":\"是\"}},[_vm._v(\"是\")]),_c('el-radio',{attrs:{\"label\":\"否\"}},[_vm._v(\"否\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"期望供应商\",\"prop\":\"expectedSupplier\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.createForm.expectedSupplier),callback:function ($$v) {_vm.$set(_vm.createForm, \"expectedSupplier\", $$v)},expression:\"createForm.expectedSupplier\"}},[_c('el-option',{attrs:{\"value\":\"供应商1\"}}),_c('el-option',{attrs:{\"value\":\"供应商2\"}}),_c('el-option',{attrs:{\"value\":\"供应商3\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"固定供应商\",\"prop\":\"fixedSupplier\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.createForm.fixedSupplier),callback:function ($$v) {_vm.$set(_vm.createForm, \"fixedSupplier\", $$v)},expression:\"createForm.fixedSupplier\"}},[_c('el-option',{attrs:{\"value\":\"供应商4\"}}),_c('el-option',{attrs:{\"value\":\"供应商5\"}}),_c('el-option',{attrs:{\"value\":\"供应商6\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"需求库存组织\",\"prop\":\"demandOrganization\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.createForm.demandOrganization),callback:function ($$v) {_vm.$set(_vm.createForm, \"demandOrganization\", $$v)},expression:\"createForm.demandOrganization\"}},[_c('el-option',{attrs:{\"value\":\"组织1\"}}),_c('el-option',{attrs:{\"value\":\"组织2\"}}),_c('el-option',{attrs:{\"value\":\"组织3\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"remarks\"}},[_c('el-input',{attrs:{\"maxlength\":\"30\",\"type\":\"textarea\",\"placeholder\":\"请输入内容\"},model:{value:(_vm.createForm.remarks),callback:function ($$v) {_vm.$set(_vm.createForm, \"remarks\", $$v)},expression:\"createForm.remarks\"}})],1)],1),(_vm.addButton)?_c('el-button',{staticStyle:{\"width\":\"150px\",\"margin\":\"0 0 50px 50%\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"添加\")]):_c('el-button',{staticStyle:{\"width\":\"150px\",\"margin\":\"0 0 50px 50%\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.update}},[_vm._v(\"编辑\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div  id=\"drawerss\">\r\n\r\n            <el-drawer\r\n                title=\"填写物料清单\"\r\n                :visible.sync=\"drawer\"\r\n                :direction=\"direction\"\r\n                :before-close=\"handleClose\">\r\n            <div id=\"formDiv\">\r\n                <el-form :model=\"createForm\" :rules=\"rules\" ref=\"createForm\" label-position=\"left\" label-width=\"110px\" class=\"demo-ruleForm\">\r\n\r\n                    <el-form-item label=\"物料名称\" prop=\"cascader\"  >\r\n                        <el-select v-model=\"createForm.cascader\" placeholder=\"请选择\" @change=\"handleChange\">\r\n                            <el-option\r\n                                    v-for=\"item in options\"\r\n                                    :key=\"item.materialCode\"\r\n                                    :label=\"item.materialName\"\r\n                                    :value=\"item.materialCode\">\r\n                            </el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"单位\" prop=\"company\" >\r\n                        <el-select v-model=\"createForm.company\" placeholder=\"请选择\">\r\n                            <el-option\r\n                                    v-for=\"item in coms\"\r\n                                    :key=\"item\"\r\n                                    :value=\"item\">\r\n                            </el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"需求数量\" prop=\"demandQuantity\" >\r\n                        <el-input-number v-model=\"createForm.demandQuantity\" :step=\"1\"></el-input-number>\r\n                    </el-form-item>\r\n\r\n\r\n                    <el-form-item label=\"需求日期\" prop=\"demandDate\" >\r\n                        <el-date-picker\r\n                                v-model=\"createForm.demandDate\"\r\n                                type=\"date\"\r\n                                @change=\"clickDate(createForm.demandDate)\"\r\n                                value-format=\"timestamp\"\r\n                                placeholder=\"选择日期\">\r\n                        </el-date-picker>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"货源是否稳定\" prop=\"source\" >\r\n                        <el-radio-group v-model=\"createForm.source\">\r\n                            <el-radio label=\"是\">是</el-radio>\r\n                            <el-radio label=\"否\">否</el-radio>\r\n                        </el-radio-group>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"期望供应商\" prop=\"expectedSupplier\" >\r\n                        <el-select v-model=\"createForm.expectedSupplier\" placeholder=\"请选择\">\r\n                            <el-option value=\"供应商1\"></el-option>\r\n                            <el-option value=\"供应商2\"></el-option>\r\n                            <el-option value=\"供应商3\"></el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"固定供应商\" prop=\"fixedSupplier\" >\r\n                        <el-select v-model=\"createForm.fixedSupplier\" placeholder=\"请选择\">\r\n                            <el-option value=\"供应商4\"></el-option>\r\n                            <el-option value=\"供应商5\"></el-option>\r\n                            <el-option value=\"供应商6\"></el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"需求库存组织\" prop=\"demandOrganization\" >\r\n                        <el-select v-model=\"createForm.demandOrganization\" placeholder=\"请选择\">\r\n                            <el-option value=\"组织1\"></el-option>\r\n                            <el-option value=\"组织2\"></el-option>\r\n                            <el-option value=\"组织3\"></el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"备注\" prop=\"remarks\" >\r\n                        <el-input v-model=\"createForm.remarks\"  maxlength=\"30\" type=\"textarea\" placeholder=\"请输入内容\"></el-input>\r\n                    </el-form-item>\r\n                </el-form>\r\n\r\n                <el-button style=\"width: 150px;margin:0 0 50px 50%\" type=\"primary\" v-if=\"addButton\" @click=\"add\">添加</el-button>\r\n                <el-button style=\"width: 150px;margin:0 0 50px 50%\" type=\"primary\" v-else @click=\"update\">编辑</el-button>\r\n            </div>\r\n        </el-drawer>\r\n\r\n    </div>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n  export default {\r\n    name: \"listDrawer\",\r\n    data(){\r\n      return{\r\n        drawer: false,//是否打开\r\n        direction: 'rtl',//从下往上开\r\n        createForm:{\r\n          materialClassificationCode:'',\r\n          materialClassificationName:'',\r\n          materialCode:'',\r\n          materialName:'',\r\n          specifications:'',\r\n          model:'',\r\n          company:'',\r\n          demandQuantity:'',\r\n          demandMonth:'',\r\n          demandDate:'',\r\n          source:'',\r\n          expectedSupplier:'',\r\n          fixedSupplier:'',\r\n          remarks:'',\r\n          materialTrackingCode:'',\r\n          demandOrganization:'',\r\n          cascader:'',//选择后\r\n        },\r\n        rules: {\r\n          cascader: [{ required: true, message: '请选择物品', trigger: 'blur' }],\r\n          company: [{ required: true, message: '请选择物品', trigger: 'blur' }],\r\n          demandQuantity: [{ required: true, message: '请选择物品', trigger: 'blur' }],\r\n          demandDate: [{ required: true, message: '请选择物品', trigger: 'blur' }],\r\n          source: [{ required: true, message: '请选择物品', trigger: 'blur' }],\r\n          expectedSupplier: [{ required: true, message: '请选择物品', trigger: 'blur' }],\r\n          fixedSupplier: [{ required: true, message: '请选择物品', trigger: 'blur' }],\r\n          demandOrganization: [{ required: true, message: '请选择物品', trigger: 'blur' }],\r\n          remarks: [{ required: true, message: '请选择物品', trigger: 'blur' }],\r\n        },\r\n        addButton:false,\r\n        updateButton:false,\r\n        options:[],\r\n        coms:['克','千克','吨','个','张','米','千米'],\r\n        tableDataId:''\r\n      }\r\n    },\r\n    methods:{\r\n      submitForm() {  //创建按钮\r\n        let r\r\n        let formName = 'createForm'\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            console.log(this.createForm)\r\n            r= true;\r\n          } else {\r\n            this.$message({type:\"warning\",message:\"请完整填写需求计划\"})\r\n            r= false;\r\n          }\r\n        })\r\n        return r\r\n      },\r\n      add(){\r\n        if(this.submitForm()){\r\n          this.$emit('add',this.createForm)\r\n          this.closeDrawer()\r\n        }\r\n\r\n      },\r\n      update(){\r\n        if(this.submitForm()) {\r\n          this.$emit('update', this.createForm, this.tableDataId)\r\n          this.closeDrawer()\r\n        }\r\n      },\r\n      openDrawer(){\r\n        this.drawer=true\r\n        this.addButton=true\r\n      },\r\n      closeDrawer(){\r\n        this.drawer=false\r\n        this.addButton=false\r\n        this.updateButton=false\r\n      },\r\n      updateDrawer(val,id){\r\n        this.tableDataId=id\r\n        this.drawer=true\r\n        this.updateButton=true\r\n        this.createForm=JSON.parse(JSON.stringify(val));\r\n      },\r\n      handleClose(done) {\r\n        this.$confirm('是否继续填写？')\r\n          .then(_ => {\r\n\r\n          })\r\n          .catch(_ => {\r\n\r\n            done();\r\n            this.closeDrawer()\r\n          });\r\n      },\r\n      handleChange(value) {\r\n        console.log(value);\r\n        let ary\r\n        this.options.forEach((val)=>{\r\n          if(val.materialCode===value) ary=val\r\n        })\r\n        console.log(ary)\r\n        this.createForm.materialClassificationCode=ary.materialClassificationCode\r\n        this.createForm.materialClassificationName=ary.materialClassificationName\r\n        this.createForm.materialName=ary.materialName\r\n        this.createForm.materialCode=ary.materialCode\r\n        this.createForm.specifications=ary.specifications\r\n        this.createForm.model=ary.model\r\n        this.createForm.company=ary.company\r\n\r\n      },\r\n      clickDate(val){\r\n        let date=new Date(val)\r\n        this.createForm.demandMonth=date.getFullYear()+''+parseInt(date.getMonth()+1)\r\n        console.log(this.createForm.demandMonth)\r\n      }\r\n    },\r\n    created(){\r\n      this.$api.getStockList({},(res)=>{\r\n        this.options=res.data\r\n      })\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scope  lang=\"scss\">\r\n    #drawerss{\r\n        overflow: hidden;\r\n        height: 100%;\r\n\r\n    }\r\n    #formDiv{\r\n        padding:0 20px;\r\n    }\r\n\r\n    .el-drawer__header{\r\n        margin-bottom: 10px !important;\r\n    }\r\n\r\n    .el-drawer__body{\r\n        overflow-y: scroll;\r\n    }\r\n    ::-webkit-scrollbar {/*滚动条整体样式*/\r\n        width: 0;     /*高宽分别对应横竖滚动条的尺寸*/\r\n        height: 0;\r\n\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listDrawer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listDrawer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./listDrawer.vue?vue&type=template&id=087288cc&\"\nimport script from \"./listDrawer.vue?vue&type=script&lang=js&\"\nexport * from \"./listDrawer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./listDrawer.vue?vue&type=style&index=0&scope=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n        <el-table\r\n            stripe\r\n            id=\"table-column\"\r\n            :data=\"tableData\"\r\n            v-if=\"newTable\"\r\n            style=\"width: 98%;margin: 30px 0\">\r\n        <el-table-column\r\n                type=\"index\"\r\n                label=\" \">\r\n        </el-table-column>\r\n        <el-table-column label=\"填写物料清单\" header-align=\"center\" >\r\n            <template slot-scope=\"scope\" >\r\n                <el-table\r\n                        v-if=\"scope\"\r\n                        :data=\"[scope.row]\"\r\n                        style=\"width: 98%\">\r\n                    <el-table-column\r\n                            v-for=\"(item,index) in tableHead1\"\r\n                            :key=\"item.prpo\"\r\n                            :label=\"item.label\"\r\n                            :prop=\"item.prop\">\r\n                    </el-table-column>\r\n                </el-table>\r\n                <el-table\r\n                        :data=\"[scope.row]\"\r\n                        style=\"width: 98%\">\r\n                    <el-table-column\r\n                            v-for=\"(item,index) in tableHead2\"\r\n                            :key=\"item.prpo\"\r\n                            :label=\"item.label\"\r\n                            :prop=\"item.prop\">\r\n                    </el-table-column>\r\n                </el-table>\r\n            </template>\r\n        </el-table-column>\r\n        <el-table-column width=\"70\">\r\n            <template slot-scope=\"scope\">\r\n                <el-button type=\"text\" class=\"el-icon-edit\" @click=\"$refs.listDrawer.updateDrawer(scope.row,scope.$index)\"></el-button>\r\n                <el-button type=\"text\" style=\"color: red\"   @click=\"tableData.splice(scope.$index,1)\" class=\"el-icon-delete\"></el-button>\r\n            </template>\r\n\r\n        </el-table-column>\r\n    </el-table>\r\n        <listDrawer ref=\"listDrawer\"  @add=\"addTableDate\" @update=\"updateTableData\" />\r\n        <el-button type=\"primary\" style=\"float: right;margin: 0 5% 50px 0\" icon=\"el-icon-plus\" @click=\"$refs.listDrawer.openDrawer()\" circle></el-button>\r\n    </div>\r\n</template>\r\n<script>\r\n    import listDrawer from \"./listDrawer\"\r\n  export default {\r\n    name: \"createList\",\r\n    props:['mon','list'],\r\n    data(){\r\n      return{\r\n        newTable:true,//刷新表格\r\n        change:false,\r\n        tableData:[],\r\n        tableHead1:[\r\n          { label:'物料分类编码', prop:'materialClassificationCode' },\r\n          { label:'物料分类名称', prop:'materialClassificationName' },\r\n          { label:'物料编码', prop:'materialCode' },\r\n          { label:'物料名称', prop:'materialName' },\r\n          { label:'型号', prop:'model' },\r\n          { label:'规格', prop:'specifications' },\r\n          { label:'单位', prop:'company' },\r\n          { label:'需求数量', prop:'demandQuantity' },],\r\n        tableHead2:[\r\n          { label:'需求月份', prop:'demandMonth' },\r\n          { label:'需求日期', prop:'demandDate' },\r\n          { label:'货源是否稳定', prop:'source' },\r\n          { label:'期望供应商', prop:'expectedSupplier' },\r\n          { label:'固定供应商', prop:'fixedSupplier' },\r\n          //{ label:'物料追踪码 ', prop:'materialTrackingCode' },\r\n          { label:'需求库存组织', prop:'demandOrganization' },\r\n          { label:'备注', prop:'remarks' },\r\n          { label:'', prop:'' },]\r\n      }\r\n    },\r\n    methods:{\r\n      submitForm() {  //创建按钮\r\n        let formName = 'createForm'\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            console.log(this.createForm)\r\n            this.createMaterialPlan()\r\n          } else {\r\n            this.$message({type:\"warning\",message:\"请完整填写需求计划\"})\r\n            return false;\r\n          }\r\n        })\r\n      },\r\n      tips(){//点击保存\r\n        return this.change\r\n      },\r\n      preservation(){//保存\r\n        this.change=false\r\n        sessionStorage.setItem('createList',JSON.stringify(this.tableData))\r\n      },\r\n      createList(planId){\r\n        console.log(planId)\r\n        for(let item in this.tableData){\r\n          let cnt=this.tableData[item]\r\n          cnt.planId=planId\r\n          cnt.materialTrackingCode=planId+cnt.cascader[0]+cnt.cascader[1]\r\n          cnt.cascader=this.tableData[item].cascader.toString()\r\n          console.log(cnt)\r\n          this.$api.createMetarialList(cnt,(res)=>{\r\n          })\r\n        }\r\n      },\r\n      addTableDate(val){//添加一行\r\n        let v=JSON.parse(JSON.stringify(val))\r\n        v.demandMonth=this.mon\r\n        this.tableData.push(v)//防止指针混乱\r\n      },\r\n      updateTableData(val,id){\r\n\r\n        console.log(val,id)\r\n        this.tableData.splice(id,1)\r\n        this.tableData.splice(id,0,JSON.parse(JSON.stringify(val)))\r\n        console.log(this.tableData)\r\n        this.newTable=false\r\n        this.newTable=true\r\n      }\r\n    },\r\n    mounted(){\r\n      let createList=sessionStorage.getItem('createList')\r\n      if(this.list!==''&&this.list!=null){\r\n        this.change=false\r\n        this.tableData=this.list\r\n        console.log(this.list+\"list\")\r\n      }\r\n      else if(createList!==''&&createList!==null){\r\n        this.change=false\r\n        this.tableData=JSON.parse(createList)\r\n      }\r\n    },\r\n    components:{\r\n      listDrawer\r\n    },\r\n    watch:{\r\n      tableData(val){\r\n        if(this.val==[]){\r\n          console.log(val)\r\n          this.change=false\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scope lang=\"scss\">\r\n    #table-column{\r\n        .el-table td{\r\n            padding: 2px 0 !important;\r\n        }\r\n        .el-table th{\r\n            padding: 2px 0 !important;\r\n        }\r\n        .el-table::before{\r\n            height: 0 !important;\r\n            width: 0  !important;\r\n            background-color:#ffffff !important;\r\n        }\r\n        .el-table--border::after, .el-table--group::after, .el-table::before{\r\n            height:0 !important;\r\n            background-color:#ffffff !important;\r\n            width: 0  !important;\r\n        }\r\n        .el-table--border td,\r\n        .el-table--border tr\r\n        .el-table--border th {\r\n            border: 0;\r\n        }\r\n        .el-table td, .el-table th.is-leaf{\r\n            border:0\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./createList.vue?vue&type=template&id=dfb6590e&\"\nimport script from \"./createList.vue?vue&type=script&lang=js&\"\nexport * from \"./createList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./createList.vue?vue&type=style&index=0&scope=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div id=\"create\">\r\n\r\n        <el-button round type=\"warning\" @click=\"confirm\" v-if=\"update==='updates'\" class=\"el-icon-edit\"> 修 改</el-button>\r\n        <el-button round type=\"primary\" @click=\"createTable\" v-else class=\"el-icon-plus\" :disabled=\"createT\"> 创 建</el-button>\r\n        <el-button round type=\"success\" @click=\"preservation\" class=\"el-icon-mobile\"> 保 存 </el-button><br><br>\r\n        <title-text  text=\"新建物资需求计划\" weight=\"600\" color=\"#636569\" style=\"margin-bottom: 20px\" v-if=\"update!=='updates'\" />\r\n        <title-text  text=\"修改物资需求计划\" weight=\"600\" color=\"#636569\" style=\"margin-bottom: 20px\" v-else />\r\n        <createPlan :plan=\"plan\" ref=\"createPlan\" @createPlan=\"useCreateList\" @mon=\"getMon\" />\r\n        <createList :list=\"list\" ref=\"createList\" :mon=\"mon\" />\r\n        <mydialog ref=\"mydialog\" @dialog=\"updateTable\" message=\"确认修改物资计划\"></mydialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import createPlan from \"./createPlan\"\r\n    import createList from \"./createList\"\r\n  export default {\r\n    name: \"createMaterial\",\r\n    props:['update','list','plan'],\r\n    components:{\r\n      createPlan,createList\r\n    },\r\n    methods:{\r\n      createTable(){\r\n        this.createT=!this.createT\r\n        this.$message({type:'info',message:'二秒后可继续创建'})\r\n        setTimeout(()=>{\r\n          this.createT=!this.createT\r\n        },2000)\r\n\r\n        this.$refs.createPlan.submitForm()\r\n      },\r\n      updateTable(state){//确认是否修改\r\n        if(state===true) this.$refs.createPlan.updateTable()\r\n      },\r\n      confirm(){//修改之前的确认\r\n        this.$refs.mydialog.openDia()\r\n      },\r\n      preservation(){//保存已经填写的信息\r\n        this.$refs.createPlan.preservation()\r\n        this.$refs.createList.preservation()\r\n      },\r\n      useCreateList(planId){//使用list页面createList\r\n        this.$refs.createList.createList(planId)\r\n      },\r\n      getMon(val){\r\n        this.mon=val\r\n      }\r\n    },\r\n    data(){\r\n      return {\r\n        mon:0,\r\n        createT:false\r\n      }\r\n    },\r\n    mounted(){\r\n      if(this.plan&&this.plan!==''){\r\n        let cnt={\r\n          planId:this.plan.planId\r\n        }\r\n        this.$api.getMetarialList(cnt,(res)=>{\r\n          this.list=res.data\r\n        })\r\n      }\r\n    },\r\n\r\n    beforeRouteLeave(to, form, next) {  //离开当前页面\r\n      let createList=this.$refs.createList.tips()\r\n      let createPlan =this.$refs.createPlan.tips()\r\n      if(createList||createPlan){\r\n        this.$message({type:\"warning\",message:\"请保存\"})\r\n        sessionStorage.setItem('navDefaultActive','1')\r\n        this.$store.state.navDefaultActive = '1'\r\n      }\r\n      else{\r\n        next()\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    #create{\r\n        width: 100%;\r\n        .el-button{\r\n            width: 100px;\r\n            float: right;\r\n            margin-right: 5%\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createMaterial.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createMaterial.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./createMaterial.vue?vue&type=template&id=2aae078d&scoped=true&\"\nimport script from \"./createMaterial.vue?vue&type=script&lang=js&\"\nexport * from \"./createMaterial.vue?vue&type=script&lang=js&\"\nimport style0 from \"./createMaterial.vue?vue&type=style&index=0&id=2aae078d&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2aae078d\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createMaterial.vue?vue&type=style&index=0&id=2aae078d&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createMaterial.vue?vue&type=style&index=0&id=2aae078d&scoped=true&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listDrawer.vue?vue&type=style&index=0&scope=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listDrawer.vue?vue&type=style&index=0&scope=true&lang=scss&\""],"sourceRoot":""}